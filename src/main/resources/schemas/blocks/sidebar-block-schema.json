{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "sidebar-block-schema.json",
  "title": "Sidebar Block Configuration",
  "description": "Configuration for sidebar blocks in AsciiDoc. Sidebars are used for supplementary information displayed alongside the main content.",
  "type": "object",
  "required": ["severity"],
  "properties": {
    "name": {
      "type": "string",
      "description": "Name identifier for this block configuration"
    },
    "severity": {
      "type": "string",
      "enum": ["error", "warn", "info"],
      "description": "Default severity level for validation issues"
    },
    "occurrence": {
      "$ref": "../common/occurrence-config-schema.json"
    },
    "title": {
      "type": "object",
      "description": "Title configuration for sidebar blocks",
      "properties": {
        "required": {
          "type": "boolean",
          "description": "Whether a title is required"
        },
        "minLength": {
          "type": "integer",
          "minimum": 1,
          "description": "Minimum length for the title"
        },
        "maxLength": {
          "type": "integer",
          "minimum": 1,
          "description": "Maximum length for the title"
        },
        "pattern": {
          "type": "string",
          "description": "Regular expression pattern that the title must match"
        },
        "severity": {
          "type": "string",
          "enum": ["error", "warn", "info"],
          "description": "Severity level for title validation issues (overrides block-level severity)"
        }
      },
      "additionalProperties": false
    },
    "content": {
      "type": "object",
      "description": "Content configuration for sidebar blocks",
      "properties": {
        "required": {
          "type": "boolean",
          "description": "Whether content is required"
        },
        "minLength": {
          "type": "integer",
          "minimum": 1,
          "description": "Minimum length for the content"
        },
        "maxLength": {
          "type": "integer",
          "minimum": 1,
          "description": "Maximum length for the content"
        },
        "lines": {
          "type": "object",
          "description": "Line count configuration",
          "properties": {
            "min": {
              "type": "integer",
              "minimum": 1,
              "description": "Minimum number of lines"
            },
            "max": {
              "type": "integer",
              "minimum": 1,
              "description": "Maximum number of lines"
            },
            "severity": {
              "type": "string",
              "enum": ["error", "warn", "info"],
              "description": "Severity level for line count validation issues"
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "position": {
      "type": "object",
      "description": "Position configuration for sidebar blocks",
      "properties": {
        "required": {
          "type": "boolean",
          "description": "Whether a position attribute is required"
        },
        "allowed": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of allowed position values (e.g., left, right, float)"
        },
        "severity": {
          "type": "string",
          "enum": ["error", "warn", "info"],
          "description": "Severity level for position validation issues"
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false
}