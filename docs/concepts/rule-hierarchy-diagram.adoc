= Regel-Hierarchie im Power AsciiDoc Linter
:toc:
:toc-title: Inhalt
:toclevels: 3
:icons: font
:source-highlighter: highlight.js

[abstract]
Visuelle Darstellung der hierarchischen Regelstruktur des Power AsciiDoc Linters. Diese interaktive Ãœbersicht zeigt, wie Regeln aufgebaut sind und zusammenwirken.

== ğŸ—ï¸ Hierarchie-Ãœbersicht

[.text-center]
....
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DOCUMENT                                 â”‚
â”‚                    (Oberste Ebene)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     METADATA       â”‚      â”‚     SECTIONS      â”‚
        â”‚   (Kopfdaten)      â”‚      â”‚  (Gliederung)     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   ATTRIBUTES[]     â”‚      â”‚   Section Item    â”‚
        â”‚ â€¢ name             â”‚      â”‚ â€¢ name/pattern    â”‚
        â”‚ â€¢ required         â”‚      â”‚ â€¢ level           â”‚
        â”‚ â€¢ pattern          â”‚      â”‚ â€¢ subsections     â”‚
        â”‚ â€¢ min/maxLength    â”‚      â”‚ â€¢ blocks[]        â”‚
        â”‚ â€¢ severity         â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚     BLOCKS[]       â”‚
                                    â”‚ â€¢ paragraph        â”‚
                                    â”‚ â€¢ listing          â”‚
                                    â”‚ â€¢ table            â”‚
                                    â”‚ â€¢ image            â”‚
                                    â”‚ â€¢ admonition       â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
....

== ğŸ“Š Detaillierte Regel-Struktur

=== Document-Ebene

[plantuml, document-structure, svg]
----
@startmindmap
* **DOCUMENT**
** **metadata**
*** attributes[]
**** name
**** required
**** pattern
**** minLength
**** maxLength
**** allowedValues
**** severity âš ï¸
** **sections[]**
*** name/pattern
*** level
*** min/max
*** required
*** severity âš ï¸
*** subsections[]
*** blocks[]
@endmindmap
----

=== Metadata-Attribute im Detail

Jedes Metadata-Attribut kann folgende Validierungsregeln haben:

[cols="20,20,60", options="header"]
|===
| Regel | Typ | Beschreibung

| `name`
| String
| Name des Attributs (z.B. "title", "author")

| `required`
| Boolean
| Ist das Attribut zwingend erforderlich?

| `pattern`
| RegEx
| Muster fÃ¼r Inhaltsvalidierung

| `minLength`
| Integer
| Minimale Zeichenanzahl

| `maxLength`
| Integer
| Maximale Zeichenanzahl

| `allowedValues`
| Array
| Liste erlaubter Werte

| `severity`
| Enum
| ERROR, WARN oder INFO
|===

=== Block-Typen und ihre Regeln

[.text-center]
....
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   BLOCKS    â”‚
                        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                      â”‚                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
â”‚  paragraph  â”‚        â”‚   listing   â”‚        â”‚    table    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ lines     â”‚        â”‚ â€¢ language  â”‚        â”‚ â€¢ header    â”‚
â”‚ â€¢ sentences â”‚        â”‚ â€¢ title     â”‚        â”‚ â€¢ caption   â”‚
â”‚ â€¢ words     â”‚        â”‚ â€¢ callouts  â”‚        â”‚ â€¢ columns   â”‚
â”‚ â€¢ severity  â”‚        â”‚ â€¢ severity  â”‚        â”‚ â€¢ rows      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
....

== ğŸ”„ Regel-Vererbung und Ãœberschreibung

=== Severity-Hierarchie

Die Severity (Schweregrad) kann auf verschiedenen Ebenen definiert werden:

[source,yaml]
----
document:
  sections:
    - name: "Beispiel"
      severity: warn          # <1> Section-Level Default
      blocks:
        - paragraph:
            severity: error   # <2> Block-Level (Ã¼berschreibt Section)
            lines:
              min: 5
              severity: info  # <3> Regel-Level (hÃ¶chste PrioritÃ¤t)
----

<1> Standard-Severity fÃ¼r alle Regeln dieser Section
<2> Ãœberschreibt Section-Severity fÃ¼r diesen Block
<3> Spezifische Severity fÃ¼r diese eine Regel

=== Vererbungs-Diagramm

[plantuml, severity-inheritance, svg]
----
@startuml
!define RECTANGLE class

RECTANGLE "Section" {
  severity: warn
}

RECTANGLE "Block" {
  severity: error
}

RECTANGLE "Specific Rule" {
  severity: info
}

Section --> Block : erbt an
Block --> "Specific Rule" : erbt an
note right : Niedrigere Ebenen\nÃ¼berschreiben hÃ¶here
@enduml
----

== ğŸ¯ Anwendungsbeispiele

=== Beispiel 1: Einfache Metadaten-Regel

[cols="a,a", grid=none, frame=none]
|===
| YAML-Konfiguration | Resultierende Validierung

|
[source,yaml]
----
document:
  metadata:
    attributes:
      - name: title
        required: true
        minLength: 10
        pattern: "^[A-Z]"
        severity: error
----

|
âœ“ Titel ist Pflichtfeld +
âœ“ Mindestens 10 Zeichen +
âœ“ Muss mit GroÃŸbuchstabe beginnen +
âœ“ Bei Verletzung: ERROR

|===

=== Beispiel 2: Verschachtelte Section-Regeln

[cols="a,a", grid=none, frame=none]
|===
| YAML-Konfiguration | Struktur-Diagramm

|
[source,yaml]
----
sections:
  - name: "Kapitel"
    level: 1
    subsections:
      - name: "Unterkapitel"
        level: 2
        blocks:
          - paragraph:
              minLines: 5
          - listing:
              language:
                required: true
----

|
....
== Kapitel
â”‚
â”œâ”€ === Unterkapitel
â”‚   â”œâ”€ Paragraph (min 5 Zeilen)
â”‚   â””â”€ Code (Sprache erforderlich)
â”‚
â””â”€ === Weiteres Unterkapitel
    â””â”€ ...
....

|===

== ğŸš€ Best Practices

[TIP]
====
**Strukturieren Sie Ihre Regeln hierarchisch:**

1. Definieren Sie globale Standards auf Document-Ebene
2. Verfeinern Sie auf Section-Ebene
3. Spezifizieren Sie Details auf Block-Ebene
====

[IMPORTANT]
====
**Severity-Level sinnvoll einsetzen:**

* `ERROR` â†’ Kritische Strukturfehler
* `WARN` â†’ Wichtige Stilrichtlinien
* `INFO` â†’ Empfehlungen und Hinweise
====

== ğŸ“š WeiterfÃ¼hrende Links

* link:../reference/rules/index.adoc[VollstÃ¤ndige Regel-Referenz]
* link:severity-inheritance-diagram.adoc[Severity-Vererbung im Detail]
* link:../user-guide/configuration.adoc[Konfigurations-Guide]
* link:../examples/[Beispiel-Konfigurationen]