= Fehlerbehebung
:toc:
:toc-title: Inhalt
:toclevels: 2
:icons: font
:source-highlighter: rouge

[abstract]
Dieser Guide hilft Ihnen bei der L√∂sung h√§ufiger Probleme mit dem Power AsciiDoc Linter. Von Installation bis zur Konfiguration finden Sie hier Antworten auf typische Herausforderungen.

== Installationsprobleme

=== Java-bezogene Fehler

==== "java: command not found"

*Problem:* Java ist nicht installiert oder nicht im PATH.

*L√∂sung:*
[source,bash]
----
# Java-Installation pr√ºfen
which java

# Falls nicht vorhanden, Java 17+ installieren:
# Ubuntu/Debian
sudo apt update && sudo apt install openjdk-17-jdk

# macOS (mit Homebrew)
brew install openjdk@17

# Windows: Download von https://adoptium.net/
----

==== "Unsupported class file major version 61"

*Problem:* Ihre Java-Version ist zu alt (< 17).

*L√∂sung:*
[source,bash]
----
# Aktuelle Version pr√ºfen
java -version

# Auf Java 17+ aktualisieren
# Dann JAVA_HOME setzen:
export JAVA_HOME=/pfad/zu/java17
export PATH=$JAVA_HOME/bin:$PATH
----

==== "Could not find or load main class"

*Problem:* JAR-Datei ist besch√§digt oder unvollst√§ndig.

*L√∂sung:*
[source,bash]
----
# JAR-Integrit√§t pr√ºfen
jar tf power-adoc-linter.jar | head

# Neu herunterladen
rm power-adoc-linter.jar
wget https://github.com/basmussen/power-adoc-linter/releases/latest/download/power-adoc-linter.jar
----

== Ausf√ºhrungsprobleme

=== Speicherfehler

==== "OutOfMemoryError: Java heap space"

*Problem:* Nicht gen√ºgend Arbeitsspeicher f√ºr gro√üe Dokumentensammlungen.

*L√∂sung:*
[source,bash]
----
# Mit mehr Speicher ausf√ºhren
java -Xmx2g -jar power-adoc-linter.jar -i "**/*.adoc"

# Oder spezifischere Patterns verwenden
java -jar power-adoc-linter.jar -i "docs/current/**/*.adoc"
----

==== "GC overhead limit exceeded"

*Problem:* Zu viel Zeit mit Garbage Collection verbracht.

*L√∂sung:*
[source,bash]
----
# Heap und GC optimieren
java -Xmx2g -XX:+UseG1GC -jar power-adoc-linter.jar -i "**/*.adoc"
----

=== Dateizugriffsprobleme

==== "Permission denied"

*Problem:* Keine Berechtigung zum Lesen der Dateien.

*L√∂sung:*
[source,bash]
----
# Berechtigungen pr√ºfen
ls -la power-adoc-linter.jar

# Ausf√ºhrbar machen
chmod +x power-adoc-linter.jar

# Oder mit java -jar ausf√ºhren
java -jar power-adoc-linter.jar -i "**/*.adoc"
----

==== "No such file or directory"

*Problem:* Angegebene Dateien oder Verzeichnisse existieren nicht.

*L√∂sung:*
[source,bash]
----
# Aktuelles Verzeichnis pr√ºfen
pwd

# Vorhandene AsciiDoc-Dateien finden
find . -name "*.adoc" -type f

# Mit korrektem Pfad ausf√ºhren
java -jar power-adoc-linter.jar -i "./docs/**/*.adoc"
----

== Konfigurationsprobleme

=== YAML-Syntaxfehler

==== "while scanning a simple key"

*Problem:* Ung√ºltige YAML-Syntax in der Konfigurationsdatei.

*L√∂sung:*
[source,yaml]
----
# Falsch - fehlende Einr√ºckung
document:
metadata:
  required:
    - title

# Richtig - korrekte Einr√ºckung
document:
  metadata:
    required:
      - title
----

==== "found character '\t' that cannot start any token"

*Problem:* Tabs statt Leerzeichen in YAML.

*L√∂sung:*
[source,bash]
----
# Tabs durch Leerzeichen ersetzen
sed -i 's/\t/  /g' .linter-config.yaml

# Oder in Ihrem Editor:
# - VS Code: "Convert Indentation to Spaces"
# - Vim: :set expandtab | :retab
----

=== Schema-Validierungsfehler

==== "Unknown property 'xyz'"

*Problem:* Nicht unterst√ºtzte Eigenschaft in der Konfiguration.

*L√∂sung:*
[source,yaml]
----
# Falsch
document:
  metadata:
    needed:     # ‚ùå Unbekannte Eigenschaft
      - title

# Richtig
document:
  metadata:
    required:   # ‚úì Korrekte Eigenschaft
      - title
----

==== "Invalid severity value"

*Problem:* Ung√ºltiger Severity-Wert.

*L√∂sung:*
[source,yaml]
----
# Falsch
severity: critical  # ‚ùå

# Richtig - nur diese Werte sind erlaubt:
severity: error     # ‚úì
severity: warn      # ‚úì
severity: info      # ‚úì
----

== Validierungsprobleme

=== Keine Dateien gefunden

==== "No files found matching pattern"

*Problem:* Das Glob-Pattern findet keine Dateien.

*L√∂sung:*
[source,bash]
----
# Pattern in Anf√ºhrungszeichen setzen
java -jar power-adoc-linter.jar -i "**/*.adoc"  # ‚úì
# Nicht: java -jar power-adoc-linter.jar -i **/*.adoc  # ‚ùå

# Verf√ºgbare Dateien anzeigen
find . -name "*.adoc" -o -name "*.asciidoc"

# Mehrere Patterns verwenden
java -jar power-adoc-linter.jar -i "**/*.adoc,**/*.asciidoc,**/*.asc"
----

=== Falsche Fehlermeldungen

==== "Required metadata 'xyz' missing" obwohl vorhanden

*Problem:* Metadaten werden nicht erkannt.

*L√∂sung:*
[source,asciidoc]
----
// Falsch - Leerzeichen vor Doppelpunkt
= Titel
:author : Max Mustermann  // ‚ùå

// Richtig - kein Leerzeichen vor Doppelpunkt
= Titel
:author: Max Mustermann   // ‚úì
----

==== Encoding-Probleme

*Problem:* Sonderzeichen werden falsch interpretiert.

*L√∂sung:*
[source,bash]
----
# Mit UTF-8 Encoding ausf√ºhren
java -Dfile.encoding=UTF-8 -jar power-adoc-linter.jar -i "**/*.adoc"

# Datei-Encoding pr√ºfen
file -i dokument.adoc
----

== Performance-Probleme

=== Langsame Verarbeitung

==== Sehr lange Laufzeit bei vielen Dateien

*Problem:* Validierung dauert zu lange.

*L√∂sung:*
[source,bash]
----
# 1. Spezifischere Patterns verwenden
java -jar power-adoc-linter.jar -i "docs/current/**/*.adoc"

# 2. Parallelit√§t erh√∂hen
java -Djava.util.concurrent.ForkJoinPool.common.parallelism=8 \
  -jar power-adoc-linter.jar -i "**/*.adoc"

# 3. Ausschluss-Pattern verwenden
java -jar power-adoc-linter.jar \
  -i "**/*.adoc" \
  --exclude "**/archive/**,**/temp/**"
----

=== Hohe CPU-Auslastung

*Problem:* CPU bei 100% w√§hrend der Validierung.

*L√∂sung:*
[source,bash]
----
# Threads begrenzen
java -Djava.util.concurrent.ForkJoinPool.common.parallelism=2 \
  -jar power-adoc-linter.jar -i "**/*.adoc"
----

== Ausgabeprobleme

=== Keine farbige Ausgabe

==== Farben werden nicht angezeigt

*Problem:* Terminal unterst√ºtzt keine Farben oder sie sind deaktiviert.

*L√∂sung:*
[source,bash]
----
# Farben explizit aktivieren
java -jar power-adoc-linter.jar -i "**/*.adoc" --colors

# Oder in Konfiguration:
# output:
#   colors: true

# F√ºr Windows PowerShell
$env:TERM = "xterm-256color"
----

=== Unleserliche JSON-Ausgabe

*Problem:* JSON-Output ist nicht formatiert.

*L√∂sung:*
[source,bash]
----
# JSON formatiert ausgeben
java -jar power-adoc-linter.jar -i "**/*.adoc" -f json | jq .

# Oder in Datei speichern und √∂ffnen
java -jar power-adoc-linter.jar -i "**/*.adoc" -f json -o report.json
----

== Debugging

=== Verbose-Modus aktivieren

F√ºr detaillierte Fehleranalyse:

[source,bash]
----
# Debug-Logging aktivieren
java -Dlog4j2.debug=true -jar power-adoc-linter.jar -i "**/*.adoc"

# Oder eigene Log-Konfiguration
java -Dlog4j.configurationFile=debug-log4j2.xml \
  -jar power-adoc-linter.jar -i "**/*.adoc"
----

=== Konfiguration validieren

[source,bash]
----
# Nur Konfiguration pr√ºfen
java -jar power-adoc-linter.jar --validate-config .linter-config.yaml

# Test-Lauf ohne Ausgabe
java -jar power-adoc-linter.jar -i "test.adoc" -c config.yaml --dry-run
----

== H√§ufig gestellte Fragen

[qanda]
Kann ich eigene Validierungsregeln erstellen?::
  Ja, √ºber die YAML-Konfiguration k√∂nnen Sie umfangreiche eigene Regeln definieren. Siehe link:configuration.html[Konfiguration].

Unterst√ºtzt der Linter AsciiDoc-Includes?::
  Ja, Include-Direktiven werden automatisch aufgel√∂st und die inkludierten Dateien mit validiert.

Wie kann ich bestimmte Dateien von der Validierung ausschlie√üen?::
  Verwenden Sie spezifischere Glob-Patterns oder die `--exclude` Option (wenn verf√ºgbar).

Gibt es eine maximale Dateigr√∂√üe?::
  Standardm√§√üig nein, aber sehr gro√üe Dateien k√∂nnen mehr Speicher ben√∂tigen. Verwenden Sie `-Xmx` f√ºr mehr Heap-Speicher.

== Support erhalten

Wenn Sie weitere Hilfe ben√∂tigen:

1. üìñ Pr√ºfen Sie die link:../reference/index.html[Referenzdokumentation]
2. üîç Suchen Sie in bestehenden link:https://github.com/basmussen/power-adoc-linter/issues[GitHub Issues]
3. üí¨ Stellen Sie Fragen in den link:https://github.com/basmussen/power-adoc-linter/discussions[GitHub Discussions]
4. üêõ Melden Sie neue Probleme als link:https://github.com/basmussen/power-adoc-linter/issues/new[GitHub Issue]

Bei Issue-Meldungen bitte angeben:
- Java-Version (`java -version`)
- Linter-Version (`java -jar power-adoc-linter.jar --version`)
- Verwendete Konfiguration
- Beispiel-Dokument, das das Problem zeigt
- Vollst√§ndige Fehlermeldung