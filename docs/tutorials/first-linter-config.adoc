= Tutorial: Ihre erste Linter-Konfiguration
:toc:
:toc-title: Lernschritte
:toclevels: 2
:icons: font
:source-highlighter: highlight.js
:experimental:

[abstract]
In diesem Schritt-fÃ¼r-Schritt Tutorial lernen Sie, wie Sie Ihre erste Linter-Konfiguration erstellen. Wir beginnen ganz einfach und erweitern die Konfiguration schrittweise.

== ğŸ¯ Lernziele

Nach diesem Tutorial kÃ¶nnen Sie:

* âœ… Eine minimale Linter-Konfiguration erstellen
* âœ… Metadaten-Regeln definieren
* âœ… Section-Strukturen vorgeben
* âœ… Block-Validierungen hinzufÃ¼gen
* âœ… Severity-Level verstehen und anwenden

== ğŸ“‹ Voraussetzungen

* Power AsciiDoc Linter ist installiert
* Ein Text-Editor (VS Code, Sublime, etc.)
* Ein Test-AsciiDoc-Dokument

== ğŸš€ Schritt 1: Minimal-Konfiguration

Beginnen wir mit der einfachsten mÃ¶glichen Konfiguration.

=== Erstellen Sie die Datei

Erstellen Sie eine Datei namens `.linter-config.yaml`:

[source,yaml]
----
document:
  metadata:
    attributes:
      - name: title
        required: true
        severity: error
----

=== Was bedeutet das?

[cols="20,80", grid=none]
|===
| `document:` 
| Der Haupt-Container fÃ¼r alle Regeln

| `metadata:` 
| Regeln fÃ¼r Dokument-Kopfdaten

| `attributes:` 
| Liste der Metadaten-Attribute

| `name: title` 
| Wir prÃ¼fen das "title" Attribut

| `required: true` 
| Der Titel ist ein Pflichtfeld

| `severity: error` 
| Fehlt der Titel â†’ Build schlÃ¤gt fehl
|===

=== Testen Sie die Konfiguration

Erstellen Sie `test.adoc`:

[source,asciidoc]
----
= Mein Test Dokument

Das ist ein Test.
----

FÃ¼hren Sie den Linter aus:

[source,bash]
----
java -jar power-adoc-linter.jar -i test.adoc -c .linter-config.yaml
----

âœ… **Erfolg!** Das Dokument hat einen Titel.

=== Provozieren Sie einen Fehler

Entfernen Sie den Titel aus `test.adoc`:

[source,asciidoc]
----
Das ist ein Test ohne Titel.
----

FÃ¼hren Sie den Linter erneut aus:

[source]
----
ERROR: Missing required attribute 'title': actual not present, expected non-empty value
----

== ğŸ“ Schritt 2: Weitere Metadaten

Erweitern wir die Metadaten-Regeln.

=== FÃ¼gen Sie Autor und Version hinzu

[source,yaml]
----
document:
  metadata:
    attributes:
      - name: title
        required: true
        severity: error
        
      - name: author       # <1>
        required: true
        severity: error
        
      - name: version      # <2>
        required: false
        pattern: "^v\\d+\\.\\d+\\.\\d+$"
        severity: info
----
<1> Autor ist jetzt auch Pflicht
<2> Version ist optional, muss aber wenn vorhanden dem Pattern entsprechen

=== Testen mit vollstÃ¤ndigen Metadaten

Aktualisieren Sie `test.adoc`:

[source,asciidoc]
----
= Mein Test Dokument
Max Mustermann
:version: v1.0.0

Das ist ein Test.
----

=== Pattern verstehen

Das Version-Pattern `^v\\d+\\.\\d+\\.\\d+$` bedeutet:

[cols="15,85", grid=none]
|===
| `^` | Anfang des Strings
| `v` | Buchstabe "v"
| `\\d+` | Eine oder mehr Ziffern
| `\\.` | Ein Punkt (escaped)
| `$` | Ende des Strings
|===

GÃ¼ltig: `v1.0.0`, `v2.3.14` +
UngÃ¼ltig: `1.0.0`, `v1.0`, `version-1`

== ğŸ—ï¸ Schritt 3: Dokumentstruktur

Jetzt definieren wir die Section-Struktur.

=== Einfache Section-Regel

[source,yaml]
----
document:
  metadata:
    attributes:
      - name: title
        required: true
        severity: error
        
  sections:              # <1>
    - name: "Einleitung" # <2>
      level: 1           # <3>
      required: true     # <4>
      severity: error    # <5>
----
<1> Neue `sections` Liste
<2> Section muss "Einleitung" heiÃŸen
<3> Level 1 bedeutet `==` in AsciiDoc
<4> Diese Section ist Pflicht
<5> Fehlt sie â†’ ERROR

=== Test-Dokument erweitern

[source,asciidoc]
----
= Mein Test Dokument
Max Mustermann

== Einleitung

Dies ist die Einleitung meines Dokuments.
----

=== Mehrere Sections

[source,yaml]
----
document:
  metadata:
    attributes:
      - name: title
        required: true
        severity: error
        
  sections:
    - name: "Einleitung"
      level: 1
      required: true
      severity: error
      
    - name: "Hauptteil"    # <1>
      level: 1
      required: false      # <2>
      severity: warn       # <3>
      
    - name: "Fazit"
      level: 1
      required: false
      severity: info
----
<1> Weitere Section
<2> Optional
<3> Warnung wenn fehlt

== ğŸ¨ Schritt 4: Block-Validierung

Definieren wir, welche Inhalte in Sections erlaubt sind.

=== Blocks zu Sections hinzufÃ¼gen

[source,yaml]
----
document:
  metadata:
    attributes:
      - name: title
        required: true
        severity: error
        
  sections:
    - name: "Einleitung"
      level: 1
      required: true
      severity: error
      blocks:                    # <1>
        - paragraph:             # <2>
            severity: warn       # <3>
            minLines: 3          # <4>
----
<1> `blocks` definiert erlaubte Inhalte
<2> Paragraph-Block
<3> Jeder Block braucht severity!
<4> Mindestens 3 Zeilen

=== Verschiedene Block-Typen

[source,yaml]
----
sections:
  - name: "Beispiele"
    level: 1
    severity: info
    blocks:
      - paragraph:
          severity: info
          
      - listing:              # <1>
          severity: warn
          language:           # <2>
            required: true
            pattern: "^(java|yaml|bash)$"
            
      - image:                # <3>
          severity: error
          alt:                # <4>
            required: true
----
<1> Code-Listings erlaubt
<2> Sprache muss angegeben werden
<3> Bilder erlaubt
<4> Alt-Text ist Pflicht

== ğŸ¯ Schritt 5: Severity verstehen

=== Die drei Severity-Level

[source,yaml]
----
document:
  sections:
    - name: "Kritisch"
      severity: error      # ğŸ”´ Build bricht ab
      
    - name: "Wichtig"  
      severity: warn       # ğŸŸ¡ Warnung, Build lÃ¤uft weiter
      
    - name: "Hinweis"
      severity: info       # ğŸ”µ Nur zur Information
----

=== Severity-Vererbung

[source,yaml]
----
sections:
  - name: "Test"
    severity: warn         # <1>
    blocks:
      - paragraph:
          severity: warn   # <2>
          sentences:
            min: 3
            severity: error # <3>
----
<1> Section-Default: WARN
<2> Block erbt WARN
<3> Regel Ã¼berschreibt mit ERROR

== ğŸ§© Schritt 6: Alles zusammen

Hier ist eine vollstÃ¤ndige Beispiel-Konfiguration:

[source,yaml]
----
# .linter-config.yaml
document:
  # Metadaten-Regeln
  metadata:
    attributes:
      - name: title
        required: true
        minLength: 10
        maxLength: 80
        severity: error
        
      - name: author
        required: true
        severity: error
        
      - name: email
        required: false
        pattern: "^[\\w._%+-]+@[\\w.-]+\\.[A-Za-z]{2,}$"
        severity: info
        
      - name: version
        required: false
        pattern: "^v\\d+\\.\\d+\\.\\d+$"
        severity: info
        
  # Struktur-Regeln
  sections:
    # Pflicht-Section
    - name: "Einleitung"
      level: 1
      order: 1
      required: true
      severity: error
      blocks:
        - paragraph:
            minLines: 5
            severity: warn
            
    # Flexible Kapitel
    - pattern: "^Kapitel \\d+:.*"
      level: 1
      min: 1
      max: 5
      severity: warn
      blocks:
        - paragraph:
            severity: info
        - listing:
            severity: info
            language:
              required: true
        - image:
            severity: warn
            alt:
              required: true
              
    # Optionale Section
    - name: "Anhang"
      level: 1
      required: false
      severity: info
----

== âœ… Schritt 7: Testen und Verfeinern

=== Erstellen Sie ein vollstÃ¤ndiges Test-Dokument

[source,asciidoc]
----
= Power AsciiDoc Linter Tutorial Dokument
Maria Muster <maria@example.com>
:version: v1.0.0

== Einleitung

Dies ist ein Tutorial-Dokument fÃ¼r den Power AsciiDoc Linter.
Es demonstriert verschiedene Validierungsregeln.
Der Linter prÃ¼ft Struktur, Metadaten und Inhalte.
Alle Regeln sind in der YAML-Konfiguration definiert.
Diese Einleitung erfÃ¼llt die Mindestanforderung von 5 Zeilen.

== Kapitel 1: Grundlagen

Hier beginnt der Hauptteil des Dokuments.

[source,java]
----
public class Hello {
    public static void main(String[] args) {
        System.out.println("Hello Linter!");
    }
}
----

.Logo des Projekts
image::logo.png[Projekt Logo, 200]

== Kapitel 2: Erweiterte Themen

Weitere Inhalte folgen hier.

== Anhang

ZusÃ¤tzliche Informationen.
----

=== FÃ¼hren Sie die Validierung aus

[source,bash]
----
java -jar power-adoc-linter.jar -i test-complete.adoc -c .linter-config.yaml
----

== ğŸ’¡ Tipps fÃ¼r Fortgeschrittene

=== 1. Nutzen Sie Patterns statt fester Namen

[cols="50,50", options="header"]
|===
| âŒ Unflexibel | âœ… Flexibel

a|
[source,yaml]
----
- name: "Kapitel 1"
- name: "Kapitel 2"  
- name: "Kapitel 3"
----

a|
[source,yaml]
----
- pattern: "^Kapitel \\d+.*"
  min: 1
  max: 10
----
|===

=== 2. Beginnen Sie strikt, lockern Sie spÃ¤ter

1. Starten Sie mit `severity: error` fÃ¼r alles
2. Testen Sie mit echten Dokumenten
3. Reduzieren Sie auf `warn` oder `info` wo sinnvoll

=== 3. Dokumentieren Sie Ihre Regeln

[source,bash]
----
# Generieren Sie automatisch eine Dokumentation
java -jar power-adoc-linter.jar --generate-docs \
  -c .linter-config.yaml \
  -o regeln.adoc
----

== ğŸ‰ Geschafft!

Sie haben erfolgreich:

* âœ… Eine Linter-Konfiguration erstellt
* âœ… Metadaten-Regeln definiert
* âœ… Dokumentstruktur vorgegeben
* âœ… Block-Validierungen hinzugefÃ¼gt
* âœ… Severity-Level angewendet

=== NÃ¤chste Schritte

1. **Erweitern**: FÃ¼gen Sie weitere Regeln hinzu
2. **Anpassen**: Passen Sie die Regeln an Ihr Projekt an
3. **Automatisieren**: Integrieren Sie den Linter in CI/CD
4. **Teilen**: Teilen Sie Ihre Konfiguration im Team

== ğŸ“š Weitere Ressourcen

* link:../user-guide/configuration.adoc[Detaillierter Konfigurations-Guide]
* link:../reference/rules/index.adoc[VollstÃ¤ndige Regel-Referenz]
* link:../examples/[Beispiel-Konfigurationen]
* link:../troubleshooting.adoc[ProblemlÃ¶sungen]

[TIP]
====
**Haben Sie Fragen?**

Schauen Sie in die link:../troubleshooting.adoc[Troubleshooting-Dokumentation] oder erstellen Sie ein Issue auf GitHub!
====