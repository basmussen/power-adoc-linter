= Documentation Generator
:toc:
:toc-title: Inhalt
:toclevels: 3
:icons: font
:source-highlighter: highlight.js

[abstract]
Der Documentation Generator erstellt automatisch menschenlesbare Dokumentation aus Ihrer Linter-Konfiguration. Dies hilft Content-Autoren, die Validierungsregeln zu verstehen, ohne YAML-Dateien lesen zu mÃ¼ssen.

== ğŸ¯ Ãœberblick

Der Documentation Generator transformiert technische YAML-Konfigurationen in verstÃ¤ndliche Dokumentation:

[plantuml, doc-gen-flow, svg]
----
@startuml
!theme plain
skinparam defaultFontSize 14

file "config.yaml" as config #lightblue
rectangle "Documentation\nGenerator" as gen #lightgreen
file "rules.adoc" as output #lightyellow

config --> gen : Liest Regeln
gen --> output : Generiert Doku

note right of gen
  Verschiedene
  Visualisierungsstile
  verfÃ¼gbar
end note

note bottom of output
  AsciiDoc Format
  fÃ¼r Autoren
end note
@enduml
----

== ğŸš€ Verwendung

=== Basis-Befehl

[source,bash]
----
java -jar power-adoc-linter.jar --generate-docs \
  -c .linter-config.yaml \
  -o documentation/rules.adoc
----

=== Mit Visualisierungsstilen

[source,bash]
----
# Mehrere Visualisierungen kombinieren
java -jar power-adoc-linter.jar --generate-docs \
  -c .linter-config.yaml \
  -o rules.adoc \
  --viz-style tree,table,nested
----

=== Ausgabe auf Konsole

[source,bash]
----
# Ohne -o wird auf stdout ausgegeben
java -jar power-adoc-linter.jar --generate-docs \
  -c .linter-config.yaml
----

== ğŸ“Š Visualisierungsstile

Der Generator unterstÃ¼tzt verschiedene Darstellungsformen:

[cols="20,30,50", options="header"]
|===
| Stil | Beschreibung | Verwendung

| `tree`
| ASCII-Art Baumstruktur
| Hierarchie-Ãœbersicht, Standard-Ansicht

| `nested`
| Verschachtelte Listen mit Severity
| Detaillierte Regel-Ãœbersicht

| `breadcrumb`
| Pfad-Darstellung
| Navigation und Kontext

| `table`
| Hierarchische Tabelle
| Ãœbersichtliche Referenz

| `plantuml`
| PlantUML Diagramme
| Visuelle Dokumentation (geplant)

| `severity-flow`
| Severity-Vererbung
| VerstÃ¤ndnis der Regel-Hierarchie (geplant)
|===

== ğŸ¨ Beispiel-Ausgaben

=== Tree-Visualisierung

[source]
----
Document
â”œâ”€ Metadata
â”‚  â”œâ”€ title (required, ERROR)
â”‚  â”œâ”€ author (required, ERROR)
â”‚  â””â”€ version (optional, INFO)
â””â”€ Sections
   â”œâ”€ Einleitung (Level 1, required)
   â”‚  â””â”€ Blocks
   â”‚     â”œâ”€ paragraph (min: 5 lines)
   â”‚     â””â”€ image (alt text required)
   â””â”€ Hauptteil (Level 1, required)
      â””â”€ Blocks
         â””â”€ listing (language required)
----

=== Nested-List Visualisierung

[source,asciidoc]
----
* Document
** Metadata [ERROR]
*** `title` - Pflichtfeld (min: 10, max: 100 Zeichen)
*** `author` - Pflichtfeld
*** `version` - Optional, Format: v\d+\.\d+\.\d+
** Sections [WARN]
*** Einleitung (Level 1) [ERROR]
**** paragraph: Mindestens 5 Zeilen
**** image: Alt-Text erforderlich
----

=== Table-Visualisierung

[cols="30,20,20,30", options="header"]
|===
| Element | Typ | Severity | Anforderungen

| Document
| Root
| -
| Container fÃ¼r alle Regeln

| â””â”€ Metadata
| Container
| ERROR
| Dokument-Kopfdaten

| â””â”€ title
| Attribut
| ERROR
| Pflicht, 10-100 Zeichen

| â””â”€ author
| Attribut
| ERROR
| Pflichtfeld

| â””â”€ Sections
| Container
| WARN
| Dokumentstruktur

| â””â”€ Einleitung
| Section
| ERROR
| Level 1, Pflicht
|===

== ğŸ”§ Erweiterte Features

=== Pattern-Humanisierung

Der Generator wandelt technische Regex-Patterns in verstÃ¤ndliche Beschreibungen um:

[cols="40,60", options="header"]
|===
| Pattern | Menschenlesbare Beschreibung

| `^\d{4}-\d{2}-\d{2}$`
| Datum im Format YYYY-MM-DD (z.B. 2024-01-15)

| `^v\d+\.\d+\.\d+$`
| Versionsnummer (z.B. v1.2.3)

| `^[A-Z].*`
| Beginnt mit einem GroÃŸbuchstaben

| `^.{10,50}$`
| Zwischen 10 und 50 Zeichen lang
|===

=== Beispiel-Generierung

FÃ¼r jede Regel werden passende Beispiele generiert:

[source,asciidoc]
----
=== Metadaten-Attribute

==== title
* **Pflichtfeld**: Ja
* **LÃ¤nge**: 10-100 Zeichen
* **Format**: Beliebiger Text
* **Beispiel**: `:title: Benutzerhandbuch fÃ¼r Power AsciiDoc Linter`

==== version
* **Pflichtfeld**: Nein
* **Format**: Semantic Versioning (v1.2.3)
* **Beispiel**: `:version: v1.0.0`
----

== ğŸ“‹ Generierte Dokumentstruktur

Die generierte Dokumentation folgt dieser Struktur:

[source,asciidoc]
----
= AsciiDoc Dokument-Richtlinien
:toc: left
:toclevels: 3

== EinfÃ¼hrung
// Projektspezifische Einleitung

== Dokument-Metadaten
=== Pflichtattribute
// Tabelle mit allen Pflichtfeldern

=== Optionale Attribute
// Tabelle mit optionalen Feldern

== Dokumentstruktur
=== Hierarchie-Ãœbersicht
// GewÃ¤hlte Visualisierungen

=== Abschnitt-Details
// Detaillierte Beschreibung jeder Section

== Block-Referenz
// Alle verfÃ¼gbaren Block-Typen

== Validierungsstufen
// ERROR, WARN, INFO ErklÃ¤rung

== Tipps fÃ¼r Autoren
// Best Practices
----

== ğŸ› ï¸ Integration in CI/CD

=== GitHub Actions

[source,yaml]
----
name: Generate Documentation

on:
  push:
    paths:
      - '.linter-config.yaml'

jobs:
  generate-docs:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Java
        uses: actions/setup-java@v3
        with:
          java-version: '17'
          
      - name: Generate Documentation
        run: |
          java -jar power-adoc-linter.jar --generate-docs \
            -c .linter-config.yaml \
            -o docs/validation-rules.adoc \
            --viz-style tree,table
            
      - name: Commit Documentation
        uses: EndBug/add-and-commit@v9
        with:
          add: 'docs/validation-rules.adoc'
          message: 'Update validation rules documentation'
----

=== Pre-Commit Hook

[source,bash]
----
#!/bin/bash
# .git/hooks/pre-commit

# Regenerate documentation if config changed
if git diff --cached --name-only | grep -q ".linter-config.yaml"; then
    echo "Regenerating documentation..."
    java -jar power-adoc-linter.jar --generate-docs \
      -c .linter-config.yaml \
      -o docs/rules.adoc
    git add docs/rules.adoc
fi
----

== ğŸ’¡ Best Practices

[cols="1,3", grid=none]
|===
| âœ… | **Automatisieren Sie die Generierung** +
Integrieren Sie den Generator in Ihren Build-Prozess

| âœ… | **Versionieren Sie die Ausgabe** +
Committen Sie die generierte Dokumentation fÃ¼r Ã„nderungsverfolgung

| âœ… | **Kombinieren Sie Visualisierungen** +
Verschiedene Stile sprechen verschiedene Nutzer an

| âœ… | **Passen Sie die Einleitung an** +
ErgÃ¤nzen Sie projektspezifische Informationen manuell

| âœ… | **Aktualisieren Sie regelmÃ¤ÃŸig** +
Bei jeder Config-Ã„nderung neu generieren
|===

== ğŸ” Technische Details

=== Architektur

[plantuml, architecture, svg]
----
@startuml
interface RuleDocumentationGenerator {
  + generate(config, writer)
  + getFormat()
  + getName()
}

class AsciiDocRuleGenerator {
  - visualizationStyles: Set<VisualizationStyle>
  - patternHumanizer: PatternHumanizer
  - visualizerFactory: HierarchyVisualizerFactory
}

class DocumentationGenerator {
  - configLoader: ConfigurationLoader
  + run(cmd): int
}

enum VisualizationStyle {
  TREE
  NESTED
  BREADCRUMB
  TABLE
  PLANTUML
  SEVERITY_FLOW
}

interface HierarchyVisualizer {
  + visualize(config, writer)
}

RuleDocumentationGenerator <|.. AsciiDocRuleGenerator
DocumentationGenerator --> RuleDocumentationGenerator
AsciiDocRuleGenerator --> HierarchyVisualizerFactory
HierarchyVisualizerFactory --> HierarchyVisualizer
@enduml
----

=== Erweiterungspunkte

1. **Neue Visualisierer**: Implementieren Sie `HierarchyVisualizer`
2. **Andere Formate**: Implementieren Sie `RuleDocumentationGenerator`
3. **Pattern-Beschreibungen**: Erweitern Sie `PatternHumanizer`

== ğŸš§ Geplante Features

* [ ] PlantUML Diagramm-Generierung
* [ ] Severity-Flow Visualisierung
* [ ] Markdown-Ausgabeformat
* [ ] Mehrsprachige Ausgabe
* [ ] Interaktive HTML-Dokumentation
* [ ] Regel-Beispiel-Validierung

== ğŸ”— Siehe auch

* link:../user-guide/configuration.adoc[Konfiguration] - Linter-Konfiguration erstellen
* link:../reference/cli-options.adoc[CLI-Referenz] - Alle Kommandozeilen-Optionen
* link:../concepts/rule-hierarchy-diagram.adoc[Regel-Hierarchie] - VerstÃ¤ndnis der Regelstruktur